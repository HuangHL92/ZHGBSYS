
function XartWebui_MultiPage(id){this.ClientControlId=this.Id=id;this.qqQz=id+"_table";this.DomElement=document.getElementById(this.qqQz);this.Pages=new Array();this.StateField=document.getElementById(id+"_SelectedIndex");this.SelectedPage=null;}
XartWebui_MultiPage.prototype.GetProperty=function(propName){return this[propName];};XartWebui_MultiPage.prototype.SetProperty=function(propName,propValue){this[propName]=propValue;};XartWebui_MultiPage.prototype.AddPage=function(page){page.ParentMultiPage=this;this.Pages[this.Pages.length]=page;};XartWebui_MultiPage.prototype.ConvertPageToIndex=function(page){for(var index=0;index<this.Pages.length;index++){if(this.Pages[index]==page){return index;}}
return-1;};XartWebui_MultiPage.prototype.Disable=function(){this.DomElement.disabled=true;for(var index=0;index<this.Pages.length;index++){this.Pages[index].Disable();}};XartWebui_MultiPage.prototype.DisablePage=function(id){var page=this.FindPageById(id);page.Disable();};XartWebui_MultiPage.prototype.Enable=function(){this.DomElement.disabled=false;for(var index=0;index<this.Pages.length;index++){this.Pages[index].Enable();}};XartWebui_MultiPage.prototype.GetPage=function(index){if(index>=0&&index<this.Pages.length){return this.Pages[index];}else{return null;}};XartWebui_MultiPage.prototype.GetPageIndex=function(){if(this.SelectedPage){return this.ConvertPageToIndex(this.SelectedPage);}else{return-1;}};XartWebui_MultiPage.prototype.GoFirst=function(){var next=document.getElementById(this.ControlId+"_next");next.disabled=null;var previous=document.getElementById(this.ControlId+"_previous");previous.disabled="true";this.SetPageIndex(0);var multipage=document.getElementById(this.ControlId+"_table");var topbutton=multipage.pagebuttonid;if(topbutton!=null){topButton(this,"first");}};XartWebui_MultiPage.prototype.GoLast=function(){var next=document.getElementById(this.ControlId+"_next");next.disabled="true";var previous=document.getElementById(this.ControlId+"_previous");previous.disabled=null;this.SetPageIndex(this.NumPages()-1);var multipage=document.getElementById(this.ControlId+"_table");var topbutton=multipage.pagebuttonid;if(topbutton!=null){topButton(this,"last");}};XartWebui_MultiPage.prototype.GoNext=function(bWrap){function showResponse(originalRequest)
{document.getElementById(divid).innerHTML=originalRequest.responseText;}
function doFail(originalRequest)
{alert(originalRequest.responseText);alert("AjaxÇëÇóÊ§°Ü£¡");}
var flag=false;var currentIndex=this.GetPageIndex();var pageview=this.GetPage(currentIndex);var view=document.getElementById(pageview.Id);var js=view.beforeNextPage;if(js!=null){flag=eval(js);}else if(js==null){flag=true;}
if(flag){var multipage=document.getElementById(this.ControlId+"_table");var Dynamicflag=multipage.isDynamicpageview;var topbutton=multipage.pagebuttonid;if(Dynamicflag=="true"){var nextpage=this.GetPage(currentIndex+1);var pars=nextpage.Id;var divid=pars+"_divid";view=document.getElementById(pars);var url=view.jspurl+"?pageviewid="+pars;var myAjax=new Ajax.Request(url,{method:'get',onSuccess:showResponse,onFailure:doFail});}
var aa=document.getElementById(this.ControlId+"_previous");aa.disabled=null;if(currentIndex>=this.NumPages()-1){if(bWrap){this.GoFirst();}}else{this.SetPageIndex(currentIndex+1);}
currentIndex=this.GetPageIndex();if(topbutton!=null){topButton(this,"next");}
if(currentIndex==this.NumPages()-1){var next=document.getElementById(this.ControlId+"_next");var last=document.getElementById(this.ControlId+"_last");next.disabled="true";last.disabled=null;}}};XartWebui_MultiPage.prototype.GoPrevious=function(bWrap){var next=document.getElementById(this.ControlId+"_next");next.disabled=null;var currentIndex=this.GetPageIndex();if(currentIndex<=0){if(bWrap){this.GoLast();}}else{this.SetPageIndex(currentIndex-1);}
currentIndex=this.GetPageIndex();var multipage=document.getElementById(this.ControlId+"_table");var topbutton=multipage.pagebuttonid;if(topbutton!=null){topButton(this,"previous");}
if(currentIndex==0){var previous=document.getElementById(this.ControlId+"_previous");previous.disabled="true";}};XartWebui_MultiPage.prototype.NumPages=function(){return this.Pages.length;};XartWebui_MultiPage.prototype.SetPageIndex=function(index,qzma){if(index>=0&&index<this.Pages.length){this.Pages[index].Show(qzma);}};XartWebui_MultiPage.prototype.SetPageId=function(id){var oPage=this.FindPageById(id);if(oPage){oPage.Show();}};XartWebui_MultiPage.prototype.FindPageById=function(id){for(var qzba=0;qzba<this.Pages.length;qzba++){if(this.Pages[qzba].Id==id||this.Pages[qzba].qqQz==id){return this.Pages[qzba];}}
return null;};function XartWebui_PageView(qqQz,id){this.ParentMultiPage=null;this.Id=id;this.DomElement=document.getElementById(qqQz);this.qqQz=qqQz;}
XartWebui_PageView.prototype.GetProperty=function(propName){return this[propName];};XartWebui_PageView.prototype.SetProperty=function(propName,propValue){this[propName]=propValue;};XartWebui_PageView.prototype.DisableRecurse=function(arDomElements){for(var qzba=0;qzba<arDomElements.length;qzba++){if(arDomElements[qzba].nodeName=="SELECT"||arDomElements[qzba].nodeName=="INPUT"||arDomElements[qzba].nodeName=="TEXTBOX"){arDomElements[qzba].disabled=true;}else{if(arDomElements[qzba].childNodes.length>0){this.DisableRecurse(arDomElements[qzba].childNodes);}}}};XartWebui_PageView.prototype.Disable=function(){this.DomElement.disabled=true;this.DisableRecurse(this.DomElement.childNodes);};XartWebui_PageView.prototype.EnableRecurse=function(arDomElements){for(var qzba=0;qzba<arDomElements.length;qzba++){if(arDomElements[qzba].nodeName=="SELECT"||arDomElements[qzba].nodeName=="INPUT"||arDomElements[qzba].nodeName=="TEXTBOX"){arDomElements[qzba].disabled=false;}else{if(arDomElements[qzba].childNodes.length>0){this.EnableRecurse(arDomElements[qzba].childNodes);}}}};XartWebui_PageView.prototype.Enable=function(){this.DomElement.disabled=false;this.EnableRecurse(this.DomElement.childNodes);};XartWebui_PageView.prototype.Show=function(qzma){if(!qzma&&this.ParentMultiPage&&this.ParentMultiPage.AutoPostBack){__doPostBack(this.ParentMultiPage.ControlId,this.ParentMultiPage.ConvertPageToIndex(this));return;}
if(this.ParentMultiPage){if(this.ParentMultiPage.SelectedPage){this.ParentMultiPage.SelectedPage.DomElement.style.display="none";}
this.ParentMultiPage.SelectedPage=this;this.DomElement.style.display="block";}
if(this.ParentMultiPage.StateField){this.ParentMultiPage.StateField.value=this.ParentMultiPage.ConvertPageToIndex(this);}};var XartWebui_MultiPage_Kernel_Loaded=true;